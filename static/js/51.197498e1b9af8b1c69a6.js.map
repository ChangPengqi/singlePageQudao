{"version":3,"sources":["webpack:///static/js/51.197498e1b9af8b1c69a6.js","webpack:///./src/components/Userlist/SetPower.vue","webpack:///SetPower.vue","webpack:///./src/components/Userlist/SetPower.vue?966e","webpack:///./src/components/Userlist/SetPower.vue?6b9f","webpack:///./src/components/Userlist/SetPower.vue?007e"],"names":["webpackJsonp","230","module","exports","__webpack_require__","injectStyle","ssrContext","Component","307","__webpack_exports__","Object","defineProperty","value","name","components","data","filters","transStatus","status","computed","curRuleList","this","$store","state","ruleInfo","curPower","ruleList","rulelist","outcurRuleList","dataid1","dataid2","title","attr","push","id","rule_list","ar_id","i","length","methods","change","obj","getRuleList","_this","$","ajax","url","BaseURL","type","token","localStorage","getItem","success","res","console","log","$router","path","dispatch","changeData","error","getPowerRuleList","_this2","ag_id","cook","document","cookie","submitPower","_this3","arr1","join","created","mounted","checkSystem","370","version","sources","names","mappings","file","sourcesContent","sourceRoot","442","content","locals","559","render","_vm","_h","$createElement","_c","_self","attrs","leave-active-class","mode","staticClass","to","tag","_v","_l","list","_s","on","on-change","$event","model","callback","$$v","$set","expression","click","staticRenderFns"],"mappings":"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","file":"static/js/51.197498e1b9af8b1c69a6.js","sourcesContent":["webpackJsonp([51],{\n\n/***/ 230:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(442)\n}\nvar Component = __webpack_require__(75)(\n  /* script */\n  __webpack_require__(307),\n  /* template */\n  __webpack_require__(559),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-9b5d1a48\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'addUser',\n  components: {},\n  data: function data() {\n    return {};\n  },\n\n  filters: {\n    transStatus: function transStatus(status) {\n      if (status == 1) {\n        return true;\n      } else if (status == 2) {\n        return false;\n      }\n    }\n  },\n  computed: {\n    curRuleList: function curRuleList() {\n      return this.$store.state.ruleInfo;\n    },\n    curPower: function curPower() {\n      return this.$store.state.curPower;\n    },\n    ruleList: function ruleList() {\n      return this.$store.state.rulelist;\n    },\n    outcurRuleList: function outcurRuleList() {\n      var dataid1 = [];\n      var dataid2 = [];\n      var title = [];\n      for (var attr in this.ruleList) {\n        dataid1.push(this.ruleList[attr].id);\n        title.push(this.ruleList[attr].title);\n      }\n      for (var attr in this.curRuleList.rule_list) {\n        dataid2.push(this.curRuleList.rule_list[attr].ar_id);\n      }\n      for (var i = 0; i < dataid1.length; i++) {\n        if (dataid1[i] == dataid2[i]) {\n          this.curRuleList.rule_list[i].title = title[i];\n        }\n      }\n      return this.curRuleList;\n    }\n  },\n  methods: {\n    change: function change(obj) {\n      obj.status = obj.status == 2 ? 1 : 2;\n    },\n\n    /* switchChange(obj){\n       obj.status=obj.status==2?1:2\n       \n     },*/\n    getRuleList: function getRuleList() {\n      var _this = this;\n\n      $.ajax({\n        url: this.BaseURL + 'Rule/ruleList',\n        type: 'post',\n        data: {\n          token: localStorage.getItem('token')\n        },\n        success: function success(res) {\n          console.log(res);\n          if (res.status == -1) {\n            _this.$router.push({ path: '/login' });\n          } else {\n            _this.$store.dispatch('getRulelist', _this.changeData(res));\n          }\n        },\n        error: function error(res) {\n          console.log('Ajax error!');\n        }\n      });\n    },\n    getPowerRuleList: function getPowerRuleList() {\n      var _this2 = this;\n\n      $.ajax({\n        url: this.BaseURL + 'rule/ruleGroup',\n        type: 'post',\n        data: {\n          token: localStorage.getItem('token'),\n          ag_id: this.curPower.ag_id\n        },\n        success: function success(res) {\n          var cook = [];\n          for (var attr in res.rule_list) {\n            cook.push(res.rule_list[attr].status);\n          }\n          document.cookie = cook;\n          console.log(res);\n          _this2.$store.dispatch('getRuleInfo', _this2.changeData(res));\n        },\n        error: function error(res) {\n          console.log('Ajax error!');\n        }\n      });\n    },\n    changeData: function changeData(obj) {\n      for (var attr in obj.rule_list) {\n        if (obj.rule_list[attr].status == 1) {\n          obj.rule_list[attr].value = true;\n        } else if (obj.rule_list[attr].status == 2) {\n          obj.rule_list[attr].value = false;\n        }\n      }\n      return obj;\n    },\n    submitPower: function submitPower() {\n      var _this3 = this;\n\n      var arr1 = []; //存储id\n      for (var attr in this.outcurRuleList.rule_list) {\n        if (this.outcurRuleList.rule_list[attr].status == 1) arr1.push(this.outcurRuleList.rule_list[attr].ar_id);\n      }\n\n      /*var arr1=[]; // 保存全部id\n      var arr2=[]; // 保存status\n      var arr3=document.cookie.split(';')[0].split(','); // 保存cookie中的status 得到的为数组\n      var arr4=[]; // 保存改变的id 得到的为数组\n      var str1=''; // 保存cookie中的status 得到的为字符串\n      var str2=''; // 保存改变的id  得到的为字符串\n      for(var attr in this.outcurRuleList.rule_list){\n          arr1.push(this.outcurRuleList.rule_list[attr].ar_id)\n          arr2.push(this.outcurRuleList.rule_list[attr].status)\n      }\n       for(var i=0; i<arr1.length; i++){\n        if(arr2[i]!=arr3[i]){\n          arr4.push(arr1[i])\n        }\n      }\n      str2=arr4.join(',')\n      console.log(arr3)*/\n      /*str=arr.join(',')*/\n      $.ajax({\n        url: this.BaseURL + 'Rule/doRuleGroup',\n        type: 'post',\n        data: {\n          token: localStorage.getItem('token'),\n          ag_id: this.curPower.ag_id,\n          ar_id: arr1.join(',')\n        },\n        success: function success(res) {\n          _this3.$router.push({ path: '/set/userlist' });\n          console.log(res);\n        },\n        error: function error(res) {\n          console.log('Ajax error!');\n        }\n      });\n    }\n  },\n\n  created: function created() {\n    this.getPowerRuleList();\n    this.getRuleList();\n  },\n  mounted: function mounted() {\n    this.checkSystem($('.addUser'));\n  }\n});\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(165)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"body[data-v-9b5d1a48],html[data-v-9b5d1a48]{line-height:1;font-weight:300;font-family:PingFang SC,STHeitiSC-Light,Heiti SC,Roboto,Noto,arial,sans-serif}.clearfix[data-v-9b5d1a48]{display:inline-block}.clearfix[data-v-9b5d1a48]:after{display:block;content:\\\".\\\";height:0;line-height:0;clear:both;visibility:hidden}@media (-webkit-min-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5){.border-1px[data-v-9b5d1a48]:after{-webkit-transform:scaleY(.7);transform:scaleY(.7)}}@media (-webkit-min-device-pixel-ratio:2),(min-device-pixel-ratio:2){.border-1px[data-v-9b5d1a48]:after{-webkit-transform:scaleY(.5);transform:scaleY(.5)}}.addUser[data-v-9b5d1a48]{position:fixed;top:0;left:0;bottom:0;width:100%;background:#eee}.addUser .title[data-v-9b5d1a48]{position:relative;width:100%;height:50px;line-height:50px;text-align:center;background:#c81623;color:#fff;font-size:18px;font-weight:400}.addUser .title .back[data-v-9b5d1a48]{position:absolute;left:0;width:50px;line-height:50px}.addUser .main[data-v-9b5d1a48]{position:absolute;top:50px;width:100%;bottom:0;overflow:auto;-webkit-overflow-scrolling:touch}.addUser .main .item-list[data-v-9b5d1a48]{background:#fff}.addUser .main .item-list .item[data-v-9b5d1a48]{height:50px;line-height:50px;padding:0 15px;border-bottom:1px solid #eee}.addUser .main .item-list .item .el-switch[data-v-9b5d1a48]{padding:0}.addUser .main .item-list .item .item-name[data-v-9b5d1a48]{float:left;font-size:15px;color:#333;font-weight:500}.addUser .main .item-list .item .item-switch[data-v-9b5d1a48]{float:right}.addUser .main .submit-btn[data-v-9b5d1a48]{margin-top:30px;margin-bottom:60px}.addUser .main .submit-btn .btn[data-v-9b5d1a48]{display:block;width:90%;height:50px;margin:0 auto;border:none;outline:none;border-radius:6px;font-size:16px;color:#fff;background:#c81623}\", \"\", {\"version\":3,\"sources\":[\"E:/qudaoApp-master/src/components/Userlist/SetPower.vue\"],\"names\":[],\"mappings\":\"AACA,4CAEE,cAAe,AACf,gBAAiB,AACjB,6EAA+F,CAChG,AACD,2BACE,oBAAsB,CACvB,AACD,iCACE,cAAe,AACf,YAAa,AACb,SAAU,AACV,cAAe,AACf,WAAY,AACZ,iBAAmB,CACpB,AACD,yEACA,mCACI,6BAA+B,AAC/B,oBAAuB,CAC1B,CACA,AACD,qEACA,mCACI,6BAA+B,AAC/B,oBAAuB,CAC1B,CACA,AACD,0BACE,eAAgB,AAChB,MAAO,AACP,OAAQ,AACR,SAAU,AACV,WAAY,AACZ,eAAiB,CAClB,AACD,iCACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,mBAAoB,AACpB,WAAY,AACZ,eAAgB,AAChB,eAAiB,CAClB,AACD,uCACE,kBAAmB,AACnB,OAAQ,AACR,WAAY,AACZ,gBAAkB,CACnB,AACD,gCACE,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,SAAU,AACV,cAAe,AACf,gCAAkC,CACnC,AACD,2CACE,eAAiB,CAClB,AACD,iDACE,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,4BAA8B,CAC/B,AACD,4DACE,SAAW,CACZ,AACD,4DACE,WAAY,AACZ,eAAgB,AAChB,WAAY,AACZ,eAAiB,CAClB,AACD,8DACE,WAAa,CACd,AACD,4CACE,gBAAiB,AACjB,kBAAoB,CACrB,AACD,iDACE,cAAe,AACf,UAAW,AACX,YAAa,AACb,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,eAAgB,AAChB,WAAY,AACZ,kBAAoB,CACrB\",\"file\":\"SetPower.vue\",\"sourcesContent\":[\"\\nbody[data-v-9b5d1a48],\\nhtml[data-v-9b5d1a48] {\\n  line-height: 1;\\n  font-weight: 300;\\n  font-family: 'PingFang SC', 'STHeitiSC-Light', 'Heiti SC', 'Roboto', 'Noto', arial, sans-serif;\\n}\\n.clearfix[data-v-9b5d1a48] {\\n  display: inline-block;\\n}\\n.clearfix[data-v-9b5d1a48]::after {\\n  display: block;\\n  content: '.';\\n  height: 0;\\n  line-height: 0;\\n  clear: both;\\n  visibility: hidden;\\n}\\n@media (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) {\\n.border-1px[data-v-9b5d1a48]::after {\\n    -webkit-transform: scaleY(0.7);\\n    transform: scaleY(0.7);\\n}\\n}\\n@media (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {\\n.border-1px[data-v-9b5d1a48]::after {\\n    -webkit-transform: scaleY(0.5);\\n    transform: scaleY(0.5);\\n}\\n}\\n.addUser[data-v-9b5d1a48] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  width: 100%;\\n  background: #eee;\\n}\\n.addUser .title[data-v-9b5d1a48] {\\n  position: relative;\\n  width: 100%;\\n  height: 50px;\\n  line-height: 50px;\\n  text-align: center;\\n  background: #c81623;\\n  color: #fff;\\n  font-size: 18px;\\n  font-weight: 400;\\n}\\n.addUser .title .back[data-v-9b5d1a48] {\\n  position: absolute;\\n  left: 0;\\n  width: 50px;\\n  line-height: 50px;\\n}\\n.addUser .main[data-v-9b5d1a48] {\\n  position: absolute;\\n  top: 50px;\\n  width: 100%;\\n  bottom: 0;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.addUser .main .item-list[data-v-9b5d1a48] {\\n  background: #fff;\\n}\\n.addUser .main .item-list .item[data-v-9b5d1a48] {\\n  height: 50px;\\n  line-height: 50px;\\n  padding: 0 15px;\\n  border-bottom: 1px solid #eee;\\n}\\n.addUser .main .item-list .item .el-switch[data-v-9b5d1a48] {\\n  padding: 0;\\n}\\n.addUser .main .item-list .item .item-name[data-v-9b5d1a48] {\\n  float: left;\\n  font-size: 15px;\\n  color: #333;\\n  font-weight: 500;\\n}\\n.addUser .main .item-list .item .item-switch[data-v-9b5d1a48] {\\n  float: right;\\n}\\n.addUser .main .submit-btn[data-v-9b5d1a48] {\\n  margin-top: 30px;\\n  margin-bottom: 60px;\\n}\\n.addUser .main .submit-btn .btn[data-v-9b5d1a48] {\\n  display: block;\\n  width: 90%;\\n  height: 50px;\\n  margin: 0 auto;\\n  border: none;\\n  outline: none;\\n  border-radius: 6px;\\n  font-size: 16px;\\n  color: #fff;\\n  background: #c81623;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 442:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(370);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(166)(\"47b19b0f\", content, true);\n\n/***/ }),\n\n/***/ 559:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"custom-classes-transition\",\n      \"leave-active-class\": \"animated fadeOutLeft\",\n      \"mode\": \"out-in\"\n    }\n  }, [_c('div', {\n    staticClass: \"addUser\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_c('router-link', {\n    staticClass: \"icon-left back\",\n    attrs: {\n      \"to\": \"/set/userlist\",\n      \"tag\": \"i\"\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"权限\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"main\"\n  }, [_c('div', {\n    staticClass: \"item-list\"\n  }, _vm._l((_vm.outcurRuleList.rule_list), function(list) {\n    return _c('div', {\n      staticClass: \"item\"\n    }, [_c('span', {\n      staticClass: \"item-name\"\n    }, [_vm._v(_vm._s(list.title))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"item-switch\"\n    }, [_c('span', {\n      staticClass: \"status\"\n    }, [_vm._v(\" \" + _vm._s(list.status))]), _vm._v(\" \"), _c('span', [_c('i-switch', {\n      on: {\n        \"on-change\": function($event) {\n          _vm.change(list)\n        }\n      },\n      model: {\n        value: (list.value),\n        callback: function($$v) {\n          _vm.$set(list, \"value\", $$v)\n        },\n        expression: \"list.value\"\n      }\n    })], 1)])])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"submit-btn\"\n  }, [_c('button', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.submitPower()\n      }\n    }\n  }, [_vm._v(\"提交\")])])])])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/51.197498e1b9af8b1c69a6.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9b5d1a48\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./SetPower.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./SetPower.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9b5d1a48\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./SetPower.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-9b5d1a48\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Userlist/SetPower.vue\n// module id = 230\n// module chunks = 51","<template>\n<transition\n        name=\"custom-classes-transition\"\n        leave-active-class=\"animated fadeOutLeft\"\n        mode=\"out-in\"\n      >\n  <div class=\"addUser\">\n    <div class=\"title\">\n      <router-link to=\"/set/userlist\" class=\"icon-left back\" tag=\"i\"></router-link>\n      <span>权限</span>\n      <!-- <router-link class=\"addUser\" to=\"/home/cashdetail\">添加角色</router-link> -->\n    </div>\n\n    <div class=\"main\">\n      <div class=\"item-list\">\n        <div class=\"item\" v-for=\"list of outcurRuleList.rule_list\"  >\n          <span class=\"item-name\">{{list.title}}</span>\n          <span class=\"item-switch\" >\n            <span class=\"status\"> {{list.status}}</span>\n            <span>\n            <i-switch v-model=\"list.value\" @on-change=\"change(list)\"></i-switch>\n            <!-- <el-switch \n              v-model='list.value '\n              on-text=\"\"\n              off-text=''\n              on-color=\"#169416\"\n              off-color=\"#e5e5e5\" @change='switchChange(list)'>\n            </el-switch> -->\n            </span>\n          </span>\n        </div>       \n      </div>\n      <div class=\"submit-btn\">\n        <button class=\"btn\" @click='submitPower()'>提交</button>\n      </div>\n    </div>\n  </div>\n</transition>\n</template>\n\n<script>\nexport default {\n  name:'addUser',\n  components:{\n    \n  },\n  data () {\n    return { \n          \n    }\n  },\n  filters:{\n    transStatus(status){\n      if(status==1){\n        return true\n      }else if(status==2) {\n        return false\n      }\n    },\n  },\n  computed:{\n    curRuleList(){  \n      return this.$store.state.ruleInfo;\n    },\n    curPower(){\n      return this.$store.state.curPower\n    },\n    ruleList(){\n      return this.$store.state.rulelist\n    },\n\n    outcurRuleList(){\n      var dataid1=[]\n      var dataid2=[]\n      var title=[]\n      for(var attr in this.ruleList){\n        dataid1.push(this.ruleList[attr].id)\n        title.push(this.ruleList[attr].title)\n      }\n      for(var attr in this.curRuleList.rule_list){ \n        dataid2.push(this.curRuleList.rule_list[attr].ar_id)\n      }\n      for (var i=0;i<dataid1.length;i++) {\n        if(dataid1[i]==dataid2[i]){\n          this.curRuleList.rule_list[i].title= title[i]\n        }\n      }\n      return this.curRuleList\n    } \n  },\n  methods:{\n    change(obj){\n      obj.status=obj.status==2?1:2\n    },\n   /* switchChange(obj){\n      obj.status=obj.status==2?1:2\n      \n    },*/\n    getRuleList(){\n      $.ajax({\n          url:this.BaseURL+'Rule/ruleList',\n          type:'post',\n          data:{\n            token:localStorage.getItem('token'), \n          },\n          success:(res) => {\n          console.log(res)\n            if(res.status==-1){\n              this.$router.push({path:'/login'})\n            }else{\n              this.$store.dispatch('getRulelist',this.changeData(res));\n            }\n          },\n          error:(res) => {\n            console.log('Ajax error!')\n          } \n        }) \n    },\n    getPowerRuleList(){\n        $.ajax({\n          url:this.BaseURL+'rule/ruleGroup',\n          type:'post',\n          data:{\n            token:localStorage.getItem('token'),\n            ag_id:this.curPower.ag_id\n          },\n          success:(res) => {\n          var cook=[]\n          for(var attr in res.rule_list){\n            cook.push(res.rule_list[attr].status)\n          }\n          document.cookie=cook;\n          console.log(res);\n          this.$store.dispatch('getRuleInfo',this.changeData(res));\n          },\n          error:(res) => {\n            console.log('Ajax error!')\n          } \n        })      \n    },      \n    changeData(obj){\n        for(var attr in obj.rule_list){\n            if(obj.rule_list[attr].status==1){\n              obj.rule_list[attr].value=true\n            }else if(obj.rule_list[attr].status==2){\n              obj.rule_list[attr].value=false\n            }  \n          }\n        return obj;\n    },\n    submitPower(){\n        var arr1=[]//存储id\n        for(var attr in this.outcurRuleList.rule_list){\n          if(this.outcurRuleList.rule_list[attr].status==1)\n            arr1.push(this.outcurRuleList.rule_list[attr].ar_id)  \n        }\n    \n\n        /*var arr1=[]; // 保存全部id\n        var arr2=[]; // 保存status\n        var arr3=document.cookie.split(';')[0].split(','); // 保存cookie中的status 得到的为数组\n        var arr4=[]; // 保存改变的id 得到的为数组\n        var str1=''; // 保存cookie中的status 得到的为字符串\n        var str2=''; // 保存改变的id  得到的为字符串\n        for(var attr in this.outcurRuleList.rule_list){\n            arr1.push(this.outcurRuleList.rule_list[attr].ar_id)\n            arr2.push(this.outcurRuleList.rule_list[attr].status)\n        }\n\n        for(var i=0; i<arr1.length; i++){\n          if(arr2[i]!=arr3[i]){\n            arr4.push(arr1[i])\n          }\n        }\n        str2=arr4.join(',')\n        console.log(arr3)*/\n        /*str=arr.join(',')*/\n        $.ajax({\n          url:this.BaseURL+'Rule/doRuleGroup',\n          type:'post',\n          data:{\n            token:localStorage.getItem('token'),\n            ag_id:this.curPower.ag_id,\n            ar_id:arr1.join(','),           \n          },\n          success:(res) => {\n            this.$router.push({path:'/set/userlist'})\n            console.log(res)\n          },\n          error:(res) => {\n            console.log('Ajax error!')\n          } \n        })  \n      }\n    \n  },\n \n  created:function(){\n      this.getPowerRuleList()\n      this.getRuleList()\n  },\n   mounted:function(){\n    this.checkSystem($('.addUser'))\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"stylus\">\n@import \"../../common/index.styl\"\n.addUser\n  position: fixed\n  top 0\n  left 0\n  bottom 0\n  width 100%\n  background #eee\n  .title\n      position: relative\n      width 100%\n      height $barHeight\n      line-height $barHeight\n      text-align center\n      background $mainColor\n      color #fff\n      font-size 18px\n      font-weight: 400\n      .back \n        position: absolute\n        left 0\n        width $barHeight\n        line-height $barHeight      \n  .main\n    position: absolute\n    top $barHeight\n    width 100%\n    bottom 0\n    overflow auto\n    -webkit-overflow-scrolling:touch\n    .item-list\n      background #fff\n      .item\n        height 50px\n        line-height 50px\n        padding 0 15px\n        border-bottom 1px solid #eee\n        .el-switch\n          padding 0\n        .item-name\n          float left\n          font-size 15px\n          color #333\n          font-weight 500\n        .item-switch\n          float: right\n    .submit-btn\n      margin-top 30px\n      margin-bottom 60px\n      .btn\n        display block\n        width 90%\n        height $buttonHeight\n        margin 0 auto\n        border none\n        outline none\n        border-radius 6px\n        font-size 16px\n        color #fff\n        background $mainColor\n  \n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// SetPower.vue?7ef4623a","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"body[data-v-9b5d1a48],html[data-v-9b5d1a48]{line-height:1;font-weight:300;font-family:PingFang SC,STHeitiSC-Light,Heiti SC,Roboto,Noto,arial,sans-serif}.clearfix[data-v-9b5d1a48]{display:inline-block}.clearfix[data-v-9b5d1a48]:after{display:block;content:\\\".\\\";height:0;line-height:0;clear:both;visibility:hidden}@media (-webkit-min-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5){.border-1px[data-v-9b5d1a48]:after{-webkit-transform:scaleY(.7);transform:scaleY(.7)}}@media (-webkit-min-device-pixel-ratio:2),(min-device-pixel-ratio:2){.border-1px[data-v-9b5d1a48]:after{-webkit-transform:scaleY(.5);transform:scaleY(.5)}}.addUser[data-v-9b5d1a48]{position:fixed;top:0;left:0;bottom:0;width:100%;background:#eee}.addUser .title[data-v-9b5d1a48]{position:relative;width:100%;height:50px;line-height:50px;text-align:center;background:#c81623;color:#fff;font-size:18px;font-weight:400}.addUser .title .back[data-v-9b5d1a48]{position:absolute;left:0;width:50px;line-height:50px}.addUser .main[data-v-9b5d1a48]{position:absolute;top:50px;width:100%;bottom:0;overflow:auto;-webkit-overflow-scrolling:touch}.addUser .main .item-list[data-v-9b5d1a48]{background:#fff}.addUser .main .item-list .item[data-v-9b5d1a48]{height:50px;line-height:50px;padding:0 15px;border-bottom:1px solid #eee}.addUser .main .item-list .item .el-switch[data-v-9b5d1a48]{padding:0}.addUser .main .item-list .item .item-name[data-v-9b5d1a48]{float:left;font-size:15px;color:#333;font-weight:500}.addUser .main .item-list .item .item-switch[data-v-9b5d1a48]{float:right}.addUser .main .submit-btn[data-v-9b5d1a48]{margin-top:30px;margin-bottom:60px}.addUser .main .submit-btn .btn[data-v-9b5d1a48]{display:block;width:90%;height:50px;margin:0 auto;border:none;outline:none;border-radius:6px;font-size:16px;color:#fff;background:#c81623}\", \"\", {\"version\":3,\"sources\":[\"E:/qudaoApp-master/src/components/Userlist/SetPower.vue\"],\"names\":[],\"mappings\":\"AACA,4CAEE,cAAe,AACf,gBAAiB,AACjB,6EAA+F,CAChG,AACD,2BACE,oBAAsB,CACvB,AACD,iCACE,cAAe,AACf,YAAa,AACb,SAAU,AACV,cAAe,AACf,WAAY,AACZ,iBAAmB,CACpB,AACD,yEACA,mCACI,6BAA+B,AAC/B,oBAAuB,CAC1B,CACA,AACD,qEACA,mCACI,6BAA+B,AAC/B,oBAAuB,CAC1B,CACA,AACD,0BACE,eAAgB,AAChB,MAAO,AACP,OAAQ,AACR,SAAU,AACV,WAAY,AACZ,eAAiB,CAClB,AACD,iCACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,mBAAoB,AACpB,WAAY,AACZ,eAAgB,AAChB,eAAiB,CAClB,AACD,uCACE,kBAAmB,AACnB,OAAQ,AACR,WAAY,AACZ,gBAAkB,CACnB,AACD,gCACE,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,SAAU,AACV,cAAe,AACf,gCAAkC,CACnC,AACD,2CACE,eAAiB,CAClB,AACD,iDACE,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,4BAA8B,CAC/B,AACD,4DACE,SAAW,CACZ,AACD,4DACE,WAAY,AACZ,eAAgB,AAChB,WAAY,AACZ,eAAiB,CAClB,AACD,8DACE,WAAa,CACd,AACD,4CACE,gBAAiB,AACjB,kBAAoB,CACrB,AACD,iDACE,cAAe,AACf,UAAW,AACX,YAAa,AACb,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,eAAgB,AAChB,WAAY,AACZ,kBAAoB,CACrB\",\"file\":\"SetPower.vue\",\"sourcesContent\":[\"\\nbody[data-v-9b5d1a48],\\nhtml[data-v-9b5d1a48] {\\n  line-height: 1;\\n  font-weight: 300;\\n  font-family: 'PingFang SC', 'STHeitiSC-Light', 'Heiti SC', 'Roboto', 'Noto', arial, sans-serif;\\n}\\n.clearfix[data-v-9b5d1a48] {\\n  display: inline-block;\\n}\\n.clearfix[data-v-9b5d1a48]::after {\\n  display: block;\\n  content: '.';\\n  height: 0;\\n  line-height: 0;\\n  clear: both;\\n  visibility: hidden;\\n}\\n@media (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) {\\n.border-1px[data-v-9b5d1a48]::after {\\n    -webkit-transform: scaleY(0.7);\\n    transform: scaleY(0.7);\\n}\\n}\\n@media (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {\\n.border-1px[data-v-9b5d1a48]::after {\\n    -webkit-transform: scaleY(0.5);\\n    transform: scaleY(0.5);\\n}\\n}\\n.addUser[data-v-9b5d1a48] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  width: 100%;\\n  background: #eee;\\n}\\n.addUser .title[data-v-9b5d1a48] {\\n  position: relative;\\n  width: 100%;\\n  height: 50px;\\n  line-height: 50px;\\n  text-align: center;\\n  background: #c81623;\\n  color: #fff;\\n  font-size: 18px;\\n  font-weight: 400;\\n}\\n.addUser .title .back[data-v-9b5d1a48] {\\n  position: absolute;\\n  left: 0;\\n  width: 50px;\\n  line-height: 50px;\\n}\\n.addUser .main[data-v-9b5d1a48] {\\n  position: absolute;\\n  top: 50px;\\n  width: 100%;\\n  bottom: 0;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.addUser .main .item-list[data-v-9b5d1a48] {\\n  background: #fff;\\n}\\n.addUser .main .item-list .item[data-v-9b5d1a48] {\\n  height: 50px;\\n  line-height: 50px;\\n  padding: 0 15px;\\n  border-bottom: 1px solid #eee;\\n}\\n.addUser .main .item-list .item .el-switch[data-v-9b5d1a48] {\\n  padding: 0;\\n}\\n.addUser .main .item-list .item .item-name[data-v-9b5d1a48] {\\n  float: left;\\n  font-size: 15px;\\n  color: #333;\\n  font-weight: 500;\\n}\\n.addUser .main .item-list .item .item-switch[data-v-9b5d1a48] {\\n  float: right;\\n}\\n.addUser .main .submit-btn[data-v-9b5d1a48] {\\n  margin-top: 30px;\\n  margin-bottom: 60px;\\n}\\n.addUser .main .submit-btn .btn[data-v-9b5d1a48] {\\n  display: block;\\n  width: 90%;\\n  height: 50px;\\n  margin: 0 auto;\\n  border: none;\\n  outline: none;\\n  border-radius: 6px;\\n  font-size: 16px;\\n  color: #fff;\\n  background: #c81623;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-9b5d1a48\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_stylus-loader@3.0.1@stylus-loader?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Userlist/SetPower.vue\n// module id = 370\n// module chunks = 51","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9b5d1a48\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_stylus-loader@3.0.1@stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./SetPower.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.3@vue-style-loader/lib/addStylesClient.js\")(\"47b19b0f\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.0.3@vue-style-loader!./~/_css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-9b5d1a48\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_stylus-loader@3.0.1@stylus-loader?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Userlist/SetPower.vue\n// module id = 442\n// module chunks = 51","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"custom-classes-transition\",\n      \"leave-active-class\": \"animated fadeOutLeft\",\n      \"mode\": \"out-in\"\n    }\n  }, [_c('div', {\n    staticClass: \"addUser\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_c('router-link', {\n    staticClass: \"icon-left back\",\n    attrs: {\n      \"to\": \"/set/userlist\",\n      \"tag\": \"i\"\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(\"权限\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"main\"\n  }, [_c('div', {\n    staticClass: \"item-list\"\n  }, _vm._l((_vm.outcurRuleList.rule_list), function(list) {\n    return _c('div', {\n      staticClass: \"item\"\n    }, [_c('span', {\n      staticClass: \"item-name\"\n    }, [_vm._v(_vm._s(list.title))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"item-switch\"\n    }, [_c('span', {\n      staticClass: \"status\"\n    }, [_vm._v(\" \" + _vm._s(list.status))]), _vm._v(\" \"), _c('span', [_c('i-switch', {\n      on: {\n        \"on-change\": function($event) {\n          _vm.change(list)\n        }\n      },\n      model: {\n        value: (list.value),\n        callback: function($$v) {\n          _vm.$set(list, \"value\", $$v)\n        },\n        expression: \"list.value\"\n      }\n    })], 1)])])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"submit-btn\"\n  }, [_c('button', {\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        _vm.submitPower()\n      }\n    }\n  }, [_vm._v(\"提交\")])])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-9b5d1a48\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Userlist/SetPower.vue\n// module id = 559\n// module chunks = 51"],"sourceRoot":""}